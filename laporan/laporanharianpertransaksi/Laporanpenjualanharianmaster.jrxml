<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report name" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="00350edb-cfa9-482b-8df3-12d5e12a66c2">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="tanggal" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["D:\\Workspace\\Netbeans\\MeteorRestopro\\laporan\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="header" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT t.kode_transaksi,ak.nama,akk.nama_akun_keuangan,(select SUM(jumlah*harga_masing) FROM transaksi WHERE kode_transaksi=t.kode_transaksi LIMIT 1 ) AS total,(select tax FROM transaksi WHERE kode_transaksi=t.kode_transaksi LIMIT 1 ) AS pajak,(select SUM(jumlah*harga_masing*tax/100) FROM transaksi WHERE kode_transaksi=t.kode_transaksi LIMIT 1 ) AS total_pajak , 
(select SUM(jumlah*harga_masing)+SUM(jumlah*harga_masing*tax/100) FROM transaksi WHERE kode_transaksi=t.kode_transaksi LIMIT 1 ) AS total_dengan_pajak FROM transaksi t INNER JOIN akun_keuangan akk ON t.kode_akun_keuangan=akk.kode_akun_keuangan INNER JOIN akun ak ON t.kode_user=ak.id WHERE tanggal::date=$P{tanggal} GROUP BY t.kode_transaksi,ak.nama,akk.nama_akun_keuangan]]>
	</queryString>
	<field name="kode_transaksi" class="java.lang.String"/>
	<field name="nama" class="java.lang.String"/>
	<field name="nama_akun_keuangan" class="java.lang.String"/>
	<field name="total" class="java.lang.Double"/>
	<field name="pajak" class="java.lang.Integer"/>
	<field name="total_pajak" class="java.lang.Double"/>
	<field name="total_dengan_pajak" class="java.lang.Double"/>
	<variable name="total_1" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{total}]]></variableExpression>
	</variable>
	<variable name="total_pajak_1" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{total_pajak}]]></variableExpression>
	</variable>
	<variable name="total_dengan_pajak_1" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{total_dengan_pajak}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="64" splitType="Stretch">
			<textField>
				<reportElement x="1" y="30" width="413" height="31" uuid="6edbe0d4-f803-4297-a04b-fc10cb8cafb0"/>
				<textElement>
					<font size="24" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{header}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="436" y="10" width="60" height="20" uuid="04bf9d2c-4c03-4691-8a2c-876ca28aec6d"/>
				<text><![CDATA[Pertanggal : ]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="496" y="10" width="61" height="20" uuid="89d1daf2-e4bc-420c-8f07-8d1535d66b2f"/>
				<textFieldExpression><![CDATA[$P{tanggal}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch">
			<staticText>
				<reportElement x="1" y="0" width="388" height="25" uuid="291be0e0-794e-421c-9783-c7d50f23fe3a"/>
				<textElement>
					<font size="17"/>
				</textElement>
				<text><![CDATA[Laporan Penjualan Harian Pertransaksi]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="23">
			<staticText>
				<reportElement x="0" y="0" width="67" height="20" uuid="82b45909-d6f1-4f9b-af2c-25be636dd7b5"/>
				<textElement verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[No Transkasi]]></text>
			</staticText>
			<staticText>
				<reportElement x="67" y="0" width="65" height="20" uuid="8ce3e9ef-7583-4141-909a-e3b02cd8b5cb"/>
				<textElement verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Kasir]]></text>
			</staticText>
			<staticText>
				<reportElement x="132" y="0" width="79" height="20" uuid="617be977-d511-4c8b-904f-1c7f6fcf04d6"/>
				<textElement verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Akun Keuangan]]></text>
			</staticText>
			<staticText>
				<reportElement x="211" y="0" width="102" height="20" uuid="f353d1e6-b13d-4771-8e66-81eb93fb7006"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Jumlah Penjualan]]></text>
			</staticText>
			<staticText>
				<reportElement x="313" y="0" width="54" height="20" uuid="02b244ff-6f99-4379-8b7e-2f067f417db8"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Pajak %]]></text>
			</staticText>
			<staticText>
				<reportElement x="367" y="0" width="69" height="20" uuid="e0bea260-8267-4033-9b42-2d8c6dbced01"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Jumlah Pajak]]></text>
			</staticText>
			<staticText>
				<reportElement x="436" y="0" width="117" height="20" uuid="faacff2f-0c1f-41fe-bb31-da40b6837006"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Penjualan+Pajak]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="21" width="555" height="1" uuid="ef64c51c-813d-4f40-945e-ffed1487158b"/>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="113" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="34" width="555" height="45" uuid="0a6934a2-347b-4bf0-9a09-bb8bd9571eb4"/>
				<subreportParameter name="kode_transaksi">
					<subreportParameterExpression><![CDATA[$F{kode_transaksi}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="tanggal">
					<subreportParameterExpression><![CDATA[$P{tanggal}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"laporanharianpertransaksi/Laporanpenjualanharian_sub.jasper"]]></subreportExpression>
			</subreport>
			<textField>
				<reportElement x="0" y="7" width="67" height="20" uuid="06a48036-41cc-47ab-b62d-45949d45f366"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{kode_transaksi}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="67" y="7" width="65" height="20" uuid="437b6857-0cc9-4c21-ac05-328b85bf4a9f"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{nama}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="132" y="7" width="79" height="20" uuid="cc2a0acb-b135-41e5-bf59-fbb59204253d"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{nama_akun_keuangan}]]></textFieldExpression>
			</textField>
			<textField pattern="Rp #,##0">
				<reportElement x="211" y="7" width="102" height="20" uuid="461334aa-ea77-4b35-911c-f9295f3269d9"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{total}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="313" y="7" width="54" height="20" uuid="daed49da-1258-4121-866e-56fcb423e997"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{pajak}]]></textFieldExpression>
			</textField>
			<textField pattern="Rp #,##0">
				<reportElement x="367" y="7" width="69" height="20" uuid="dc81d866-f103-44a2-b070-31cccd5f4f03"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{total_pajak}]]></textFieldExpression>
			</textField>
			<textField pattern="Rp #,##0">
				<reportElement x="436" y="7" width="117" height="20" uuid="e73dccab-a29d-4b71-ac8c-e9b87b102f98"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{total_dengan_pajak}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="3" width="555" height="1" uuid="4d524259-a0a7-400a-8933-6145594331d5"/>
			</line>
			<line>
				<reportElement x="0" y="29" width="555" height="1" uuid="8f534dee-80cf-4fea-85ed-7d93de7fb7b2"/>
			</line>
		</band>
	</detail>
	<pageFooter>
		<band height="54" splitType="Stretch">
			<textField>
				<reportElement mode="Opaque" x="217" y="17" width="80" height="20" backcolor="#CCCCCC" uuid="215d0440-42b4-4493-af5d-0281bf3e4f04"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement mode="Opaque" x="0" y="17" width="217" height="20" backcolor="#CCCCCC" uuid="cca1e92d-3499-44f4-b707-bfec8a397655"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement mode="Opaque" x="297" y="17" width="258" height="20" backcolor="#CCCCCC" uuid="90b96d11-fd0b-40c5-908e-be15da27ae66"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="106">
			<staticText>
				<reportElement x="315" y="5" width="128" height="20" uuid="74056103-d27b-495b-8982-8926963c815a"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<text><![CDATA[Total Penjualan :]]></text>
			</staticText>
			<textField pattern="Rp #,##0">
				<reportElement x="443" y="5" width="110" height="20" uuid="0d92c972-08cd-436f-a5f4-ba5773860ceb"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{total_1}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="315" y="25" width="128" height="20" uuid="3a4f5711-c438-4e2c-935f-2b947434b323"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<text><![CDATA[Total Pajak :]]></text>
			</staticText>
			<textField pattern="Rp #,##0">
				<reportElement x="443" y="25" width="110" height="20" uuid="ab815102-ee2a-45f0-af0d-546cb2902907"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{total_pajak_1}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="315" y="45" width="128" height="20" uuid="39f14d1d-e18c-465d-af39-419fb65fcee7"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<text><![CDATA[Total Penjualan + Pajak :]]></text>
			</staticText>
			<textField pattern="Rp #,##0">
				<reportElement x="443" y="45" width="110" height="20" uuid="e4931800-ced9-4712-89a7-6fc9acb74425"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{total_dengan_pajak_1}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
